В этом уроке я расскажу вам об одной очень интересной возможности программы Synfig Studio.

Давайте посмотрим вот такой пример

Как вы думаете, сколько фиксаторов мне понадобилось чтобы сделать эту анимацию? Восемнадцать? Девять? Или пять? Правильный ответ — всего два.

В Synfig Studio есть мощные возможности по созданию автоматической анимации и сейчас я их продемонстрирую на примере этой пчелы.
Материалы к этому уроку лежат в папке «bee». Вот у нас есть пчела и вот крыло для неё. И ещё есть фон на всякий случай.
Давайте импортируем пчёлку и крыло на рабочую область. Группируем их вместе и подгоняем по размеру. Вот так.
Поставим крыло на место... и настроим центр вращения. Теперь нам нужно добавить к нему автоматическую анимацию.
В Synfig Studio мы можем к любому параметру слоя привязать функцию. Давайте я покажу как это работает на примере окружности.
Так, вот у нас окружность… Выделим параметр «Исходная точка» (Origin), щёлкнем по нему правой кнопкой и выберем «Конвертировать» (Convert). Появляется список функций. В синфиге мы называем их конвертерами. Выберем конвертер под названием «Случайно» (Random).
Смотрите теперь наша окружность хаотично движется. Обратите внимание, что напротив параметра «Исходная точка» (Origin), который мы конвертировали в случайный, появился маленький треугольник. Нажмём на него, чтобы посмотреть параметры функции.
Вот у нас есть параметр «Связь» (Link), который указывает точку, относительно которой будет варьироваться положение окружности. Здесь мы можем увеличить радиус максимального отклонения... можем изменить скорость... или указать другой фактор случайности, который будет определять характер случайного движения.
Для того чтобы убрать конвертер от параметра, просто щёлкнем по нему правой кнопкой и выберем «Отсоединить» (Disconnect).
Как вы заметили, случайная функция у нас действовала одновременно на обе оси — X и Y. Давайте теперь попробуем сделать так чтобы наша окружность колебалась только по оси икс.
Для этого мы применим к параметру «Исходная точка» конвертер «Composite». Этот конвертер не создаёт никакой анимации, зато он разделяет параметр на элементарные компоненты, вот они — X и Y.
Щёлкаем правой кнопкой на параметр X и снова выбираем «Конвертировать» (Convert) - «Случайно» (Random).
Ну вот, теперь наша окружность дёргается только по горизонтали.
Давайте для примера я покажу ещё один конвертер, который называется «Линейная» (Linear). Он просто изменяет параметр с постоянной (линейной) скоростью с течением времени.
Подсоединим его вместо случайной функции. Мне не обязательно отвязывать предыдущий конвертер,  я могу просто привязать новый и он автоматически заменит старый.
Теперь установим параметр «Скорость» (Rate) - поставим значение «1».
Вот так. Ну вот, теперь наша окружность двигается по оси икс с постоянной скоростью. И это движение будет бесконечным.
Давайте теперь вернёмся к нашей анимации пчелы.
Итак, мы хотим анимировать её крыло. Для этого я использую случайную функцию и привяжу её к параметру «Угол» (Angle).
Сейчас это не даст почти никакого эффекта,  потому что радиус у нас равен единице. То есть максимальное отклонение составляет всего один градус. Давайте поставим радиус 30.
Уже лучше... но крыло движется слишком медленно. Поставим скорость равную 25. Отлично.
Посмотрим график. Не забудьте для этого выделить параметр «Угол» (Angle).
Итак, одно крыло у нас есть, сделаем его копию. Положим вниз... передвинем вот сюда... и чуть-чуть уменьшим. Вот такая замечательная пчела у нас получилась.
Обратите внимание, что второе крыло движется не так, как первое.  Это произошло потому, что при копировании слоя случайный конвертер был тоже скопирован, но ему был назначен новый фактор случайности. Мы можем сделать чтобы крылья двигались одинаково — для этого нужно просто скопировать значение фактора случайности из одного крыла в другое. Вот так.
Но в данном случае мне больше нравится когда крылья двигаются вразнобой. Поэтому, давайте вернём всё как было.
Теперь давайте анимируем пчелу, чтобы она пролетала из одного конца экрана в другой. Включаем режим анимации. Ставим начальную позицию и конечную.
Вот,  теперь она у нас летит.
Но было бы здорово, если наша пчела двигалась не строго по прямой линии, а немного отклонялась от неё. Но было бы здорово, если наша пчела двигалась не строго по прямой линии, а немного отклонялась от неё.  Тогда её движение будет более реалистичным.
Давайте так и сделаем!  В этом нам снова поможет случайный конвертер.
Чтобы нам было проще,  давайте сначала уберём движение пчелы.  Вот, теперь она у нас стоит на месте.
Мы можем создать внутри пчелы ещё одну группу и привязать к её смещению случайный конвертер. Но вместо этого я покажу вам одну полезную штуку.
Вы наверное помните, что в Synfig Studio есть специальные слои-фильтры. Так вот, мы воспользуемся одним очень простым слоем, который просто задаёт смещение всего, что находится под ним.  Вот он.
Видите, он работает очень просто и у него всего один параметр.
Теперь я к нему привяжу конвертер «Случайно» (Random).  Поставим радиус «15»... Ну вот.
Теперь снова сделаем анимацию группы от одного края экрана к другому.  Смотрим.
Как видите у нас линейное и случайное движение накладываются друг на друга. Поэтому пчела летит не ровно, а, так сказать, с отклонениями и её анимация выглядит более сложной.
Вы спросите, в чём преимущество использования слоя-фильтра, когда мы могли просто использовать группу. Ну, в данном случае, наверное, ни в чём. Но вообще, преимущество этого подхода в том, что мы в любой момент можем легко отключить эффект перемещения. Смотрите, я просто выключаю слой и у меня пчела снова движется точно по прямой. А если бы мы использовали группу, то нам пришлось бы вытаскивать все слои из группы, а это не очень удобно, если нам нужно отключать анимацию часто...
Такие слои фильтры бывают очень полезны, если нам нужно сделать панораму или наезд камерой.
Ну и последний штрих к нашей анимации - давайте добавим фон. Масштабируем... Вот так.
Ну вот, на этом пожалуй всё. Наша анимация готова.
