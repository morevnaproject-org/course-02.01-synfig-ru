==== Ключевые кадры ====
Давайте возьмём нашего персонажа, которого мы собрали в предыдущем уроке и попробуем сделать очень простую анимацию (показать анимацию). Вот, персонаж сначала поднимает одну руку. Потом другую.

== Навигация по шкале кадров ==
Выглядит просто? Давайте попробуем.

Предположим, персонаж у нас одну руку поднимет за 10 кадров и другую тоже за десять кадров. Чтобы нам было удобнее давайте увеличим масштаб шкалы кадров. Для этого достаточно навести курсор на серую линейку шкалы и покрутить колесо мыши. Вот так.

Теперь, давайте включим режим анимации. На шкале кадров установим время, за которое наш герой поднимет левую руку. Вот, 10 кадров. И повернём руку. После этого должна начать двигаться другая рука. Передвигаем курсор времени ещё на 10 кадров. И теперь поворачиваем вторую руку. 

Посмотрим что у нас получилось.

А получилось совсем не то... Смотрите, обе руки начинают двигаться одновременно с нулевого кадра. А нам нужно чтобы они двигались по очереди. Это произошло потому, что  для второй руки позиция на десятом кадре ничем не фиксируется. Поэтому, она начинает движение с самого начала. Это легко исправить — передвинем фиксатор на десятый кадр. Вот теперь всё хорошо.

== Понятие ключевого кадра ==
В данном случае нам легко удалось всё исправить, потому что у нас очень простая сцена и персонаж состоит всего из нескольких слоёв. Но часто нам приходится работать  с более сложными персонажами, состоящими из десятков слоёв, и таких персонажей может быть несколько в одной сцене. И у каждого слоя могут быть десятки параметров, за которыми нам придётся следить. Очевидно, что нам нужен механизм, который позволил бы контролировать анимацию на более высоком уровне.

В синфиге это достигается при помощи ключевых кадров. Бывает, что ключевые кадры путают с фиксаторами, но это не одно и то же. Фиксаторы запоминают значение одного параметра в определённый момент времени. А ключевой кадр тоже привязан к определённому моменту времени, но  заставляет программу запомнить состояние сразу всех параметров у всех слоёв. Когда вы делаете анимацию программа автоматически расставляет фиксаторы на ключевых кадрах чтобы сохранить слои неизменными.

Давайте посмотрим как это работает.

== Удаление фиксаторов у параметра ==
Попробуем сделать наше упражнение сначала. Для этого удалим анимацию у первой руки и у второй. Можно удалить все фиксаторы по одному — мы уже знаем как это делается. А можно удалить сразу всю анимацию у параметра — для этого нужно щёлкнуть правой кнопкой мыши на нём и выбрать «Отсоединить». Это очень полезный приём, если фиксаторов много.

Итак, анимация удалена, можно начинать.

Ключевые кадры находятся вот на этой синей полоске, вот здесь.
В синфиг студио первый ключевой кадр создается автоматически, вот он. 

Персонаж у нас стоит в исходной позе. Здесь всё в порядке.

Убедимся, что режим анимации включён и идем на 10-й кадр.

Кстати, мы можем использовать очень полезную комбинацию  - удерживайте CTRL и клавишу «точка» на английской раскладке клавиатуры. 

Теперь создаем новый ключевой кадр. Щёлкаем правой кнопкой мыши... Появляется вот такой маркер. Поворачиваем левую руку персонажа.

Готово. Теперь перейдем еще на десять кадров вперед... создадим ключевой кадр... повернём вторую руку. Обратите внимание, что синфиг поставил дополнительный фиксатор, чтобы на предыдущем ключевом кадре сохранить состояние объекта. Теперь у нас анимация сразу получилась как надо — без всяких подтасовок.

Давайте рассмотрим ещё один пример того, как работают ключевые кадры.

Создадим новый документ. Сейчас мы сделаем анимацию шара, который подбросили вверх и потом он падает вниз. По-умолчанию у нас уже есть один ключевой кадр — он фиксирует состояние объектов в самом начале. 

Создадим еще два ключевых кадра. Перейдем на второй ключевой кадр, активируем режим анимации и переместим шар вверх. Видите - появились три фиксатора. Тот который в середине появился от того, что мы изменили положение мяча в режиме анимации. А два крайних появились чтобы сохранить ИСХОДНОЕ положение мяча в соответствующие моменты времени. Поэтому у нас получилось шар поднимается вверх, а потом возвращается обратно.

== Управление ключевыми кадрами ==
Кстати, вот тут также есть панель на которой хранится список всех ключевых кадров. Здесь вы можете задавать имена для них, а также быстро переходить от одного ключевого кадра к другому. Для этого достаточно щёлкнуть по надписи "перейти" вот тут. Это чем-то похоже на гиперссылку в вашем любимом браузере. 

Чтобы показать как ключевые кадры помогают управлять фиксаторами, давайте вернёмся к анимации нашего персонажа. 

В данном случае у нас анимировано два объекта — первая рука и вторая рука.  Если мы перемещаем ключевой кадр, то вместе с ним автоматически перемещаются все фиксаторы, которые находятся в данный момент времени. Нам даже не нужно выделять какой-то конкретный объект.

Часто бывает нужно вместе с текущим кадром передвинуть все последующие. Это сделать очень легко. Просто зажмите Alt Shift и передвиньте кадр на другое место. (Передвигаем второй ключ. кадр на 15 кадр). Вот так.

С помощью ключевых кадров мы можем также копировать состояние объектов с одного момента времени на другой. Например, давайте сделаем так, чтобы на 40 кадре персонаж вернулся в ту же позу, в какой он был на нулевом кадре. Идём на 40 кадр, теперь щёлкаем правой кнопкой на вот этом ключевом кадре и выбираем «Дублировать». Смотрите, синфиг автоматически расставил все нужные фиксаторы, и персонаж у нас теперь в исходной позе. 

Следует отметить, что когда мы что-то делаем с ключевыми кадрами, совсем не обязательно быть в режиме анимации.

И ещё один важный момент: когда мы удаляем ключевой кадр, то вместе с ним будут удалены все фиксаторы, которые ему принадлежат. Вот, смотрите.

== Растягивание фиксаторов ==
И, напоследок я покажу ещё один мощный трюк, который мы можем делать с помощью ключевых кадров. 

Давайте сделаем так, что после 40 кадра персонаж помашет нам рукой. Но при этом я не буду ставить ключевой кадр для каждого движения. У меня будет один в начале... и один в конце.

Все готово. Итак, у меня получилось два события, два ключевых кадра — персонаж начал махать рукой и персонаж закончил махать рукой. 

Теперь давайте попробуем передвинуть последний ключевой кадр. Смотрите, перемещение ключевых кадров автоматически растягивает  или сжимает фиксаторы на промежутках между ними.

Вот, видите, я легко меняю длину всей анимации.
