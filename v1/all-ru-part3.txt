Перемещение центра

Отлично, человечек у нас собран.

Идем на вкладку “параметры слоя”, выделяем параметр “Трансформация” и разворачиваем его. Появился список преобразований, которые мы можем применить для этого изображения, выбираем “Масштаб” и редактируем его. Поскольку нам нужно отразить ногу по горизонтали, ставим минус перед значением по оси X. Нажмём два раза Enter. Вот, нога пропорционально отразилась.

Конечно, всё равно получится не совсем точно, но в данном случае это не будет заметно. Но если нужна идеальная точность то можно ввести значения вручную. Давайте попробуем с ногой (копируем слой ноги).

Вот, рука есть. Теперь нужно её зеркально отобразить. Для этого достаточно потянуть вот за эту контрольную точку и перетянуть её на другую сторону вот так. Постарайтесь, перетянуть точку ровно на такое же расстояние относительно центральной точки, иначе нарушатся пропорции и рука получится сплющенной.

Так, теперь нам нужно сделать вторую руку. Для начала давайте выделим слой с рукой и сделаем её копию. Дублировать слой можно нажав вот по этой кнопке или щелкнуть правой кнопкой и выбрать “создать копию слоя”.

Зеркалирование

Давайте теперь расставим все части на свои места. Для удобства сначала раскидаем их в стороны, вот так. А теперь составляем вместе.

Итак, запчасти у нас на рабочей области. Нужно изменить их размер чтобы весь персонаж мог уместиться на рабочей области. Я не буду масштабировать каждую часть по отдельности. Вместо этого я добавлю все части в группу и отмасштабирую всё вместе масштабируем группу.

Кстати, пользователи Windows и Linux могут импортировать изображения просто перетаскивая их на рабочую область из менеджера файлов. Таким способом мы можем выделить сразу несколько изображений и вставить их все сразу.

Итак, начнем. Для начала, создадим новый документ. Делее выбираем «файл», «импортировать», выбираем папку с учебными файлами - “character-1” и вот папка с частями.

Сейчас наша главная задача — научиться собирать марионетку персонажа. Поэтому в папке “character-1” вы найдёте уже готовые разрезанные части. Вот туловище, голова, рука и нога. Нам достаточно одной руки и одной ноги, потому что их можно зеркально отразить.

Обратите внимание, что каждое изображение должно иметь прозрачный фон, поэтому при сохранении нужно использовать формат PNG.

Когда будете разрезать персонажа, убедитесь, что его части пересекаются друг с другом в местах соединения. Прямо как у настоящей марионетки.

Разрезать персонажа можно в любом графическом редакторе. Например, можно использовать свободный редактор Gimp, который вы можете совершенно бесплатно скачать в интернете, точно также как и Synfig.

Чтобы сделать анимацию методом “перекладка”, нужно разрезать персонажа на части, затем собрать его в Synfig Studio. Получится что-то типа марионетки, которую мы можем анимировать.

Откройте папку “character-1”. Здесь хранится нарисованный персонаж - вот он.

Давайте теперь попробуем сделать простую анимацию персонажа методом “перекладка”.

Анимация методом «перекладка»

Сборка персонажа

Вот, видите, я легко меняю длину всей анимации.

Теперь давайте попробуем передвинуть последний ключевой кадр. Смотрите, перемещение ключевых кадров автоматически растягивает или сжимает фиксаторы на промежутках между ними.

Все готово. Итак, у меня получилось два события, два ключевых кадра — персонаж начал махать рукой и персонаж закончил махать рукой.

И, напоследок я покажу ещё один мощный трюк, который мы можем делать с помощью ключевых кадров. Давайте сделаем так, что после 40 кадра персонаж помашет нам рукой. Но при этом я не буду ставить ключевой кадр для каждого движения. Вот так. Я поставлю только один ключевой кадр в конце.

Растягивание фиксаторов

Ещё один важный момент: когда мы удаляем ключевой кадр, то вместе с ним будут удалены все фиксаторы, которые ему принадлежат. Вот, смотрите.

Кстати, хочу отметить, что когда мы что-то делаем с ключевыми кадрами совсем не обязательно быть в режиме анимации. Давайте попробуем. Выключаем режим анимации. Скопируем второй ключевой кадр вот сюда (на кадр 50). Готово, всё получилось.

С помощью ключевых кадров мы можем также копировать состояние объектов с одного момента времени на другой. Например, давайте сделаем так, чтобы на 40 кадре персонаж вернулся в туже позу, в какой он был на нулевом кадре. Идём на 40 кадр, теперь щёлкаем правой кнопкой на вот этом ключевом кадре и выбираем «Дублировать». Смотрите, синфиг автоматически расставил нужные фиксаторы, чтобы персонаж оказался в той же позе, в какой он был на нулевом кадре.

И ещё. Когда я переместил этот ключевой кадр, то изменились оба промежутка — этот стал короче, а этот длиннее. Но часто бывает нужно вместе с текущим кадром передвинуть все последующие. Это сделать очень легко. Просто зажмите Ctrl и Alt и передвиньте кадр на другое место. (Передвигаем второй ключ. кадр на 15 кадр). Вот так.

Но с ключевыми кадрами всё гораздо проще. Если мы перемещаем ключевой кадр, то вместе с ним автоматически перемещаются все фиксаторы, которые ему принадлежат. Нам даже не нужно выделять какой-то конкретный объект. Вот, видите — у нас все фиксаторы автоматически переместились.

В данном случае у нас анимировано два объекта — первая рука и вторая рука. Если мы хотим чтобы эта рука поднималась не за десять кадров, а за 5, то нам придётся редактировать оба объекта.

Чтобы показать как ключевые кадры помогают управлять фиксаторами, давайте вернёмся к анимации нашего персонажа.

Кстати, вот тут также есть панель на которой хранится список всех ключевых кадров. Здесь вы можете задавать имена для них, а также быстро переходить от одного ключевого кадра к другому. Для этого достаточно щёлкнуть по надписи “перейти” вот тут. Это чем-то похоже на гиперссылку в вашем любимом браузере.

Управление ключевыми кадрами

Создадим еще два ключевых кадра. Перейдем на второй ключевой кадр, активируем режим анимации и переместим шар вверх. Видите - появились три фиксатора. Тот который в середине появился от того, что мы изменяли положение мяча в режиме анимации. А два крайних появились для того, чтобы сохранить исходное положение мяча в соответствующие моменты времени. Вот, мы видим что положение сохранилось. Поэтому у нас получилось что мячик скачет вверх, а потом возвращается обратно.

Создадим новый документ. Сейчас мы сделаем анимацию шара, который подбросили вверх и потом он падает вниз. По-умолчанию у нас уже есть один ключевой кадр — он фиксирует состояние объектов в самом начале.

Давайте рассмотрим ещё один пример того, как работают ключевые кадры.

Готово. Теперь перейдем еще на десять кадров вперед, создадим ключевой кадр, повернём вторую руку. Обратите внимание, что синфиг поставил дополнительный фиксатор, чтобы на предыдущем ключевом кадре сохранить состояние объекта в этот момент времени. Теперь у нас анимация сразу получилась как надо — без всяких подтасовок.

Итак, анимация удалена, можно начинать. Вот у нас персонаж в исходной позе Режим анимации включен, идем на 10-й кадр. Ключевые кадры находятся вот на этой синей полоске, прямо над шкалой кадров. Создаем новый ключевой кадр. Обратите внимание в том месте где, был вставлен ключевой кадр появился вот такой маркер. Теперь повернём левую руку персонажа.

Попробуем сделать нашу анимацию сначала. Для этого удалим анимацию у первой руки и у второй. Можно удалить все фиксаторы по одному — мы уже знаем как это делается. А можно удалить анимацию сразу у всего параметра — для этого нужно щёлкнуть правой кнопкой мыши на нём и выбрать «Отсоединить». Это очень полезный приём, если фиксаторов много.

Удаление фиксаторов у параметра

Давайте посмотрим как это работает.

Этот механизм называется «ключевые кадры». Часто начинающие пользователи называют фиксаторы ключевыми кадрами, но это не правильно. Фиксаторы запоминают значение параметра в определённый момент времени. А ключевой кадр тоже привязан к определённому моменту времени, но заставляет программу запомнить состояние сразу всех слоёв. Когда вы делаете анимацию программа автоматически расставляет фиксаторы на ключевых кадрах чтобы сохранить слои неизменными.

И в синфиге есть такой механизм. Он позволяет автоматически указывать, в каких местах создавать фиксаторы, а также управлять ими.

В этом случае нам легко удалось всё исправить, потому что у нас очень простая сцена и персонаж состоит всего из нескольких частей. Но часто нам приходится работать с более сложными персонажами, состоящими из десятков слоёв, и таких персонажей может быть несколько в одной сцене. И у каждого слоя могут быть десятки параметров, за которыми нам придётся следить. Очевидно, что нам нужен механизм, который позволил бы управлять анимацией на более высоком уровне.

Понятие ключевого кадра

А получилось совсем не то… Смотрите, обе руки начинают двигаться одновременно с нулевого кадра. А нам нужно чтобы они двигались по очереди. Это произошло потому, что для второй руки позиция на десятом кадре ничем не фиксируется. Поэтому, она начинает движение с самого начала. Это легко исправить — передвинем фиксатор на десятый кадр. Вот теперь всё хорошо.

Посмотрим что у нас получилось.

Теперь, давайте включим режим анимации. На шкале кадров установим время, за которое наш герой (что-то мне подсказывает, что его зовут Вася) поднимет левую руку. Вот, 10 кадров. И повернём руку. После этого должна начать двигаться другая рука. Передвигаем курсор времени ещё на 10 кадров. Кстати, мы можем использовать очень полезную комбинацию - удерживайте CTRL и вот эту клавишу [>]. И теперь поворачиваем вторую руку.

Ну, что-ж начнем! Предположим, персонаж у нас одну руку поднимет за 10 кадров и другую тоже за десять кадров. Чтобы нам было удобнее давайте увеличим масштаб шкалы кадров. Для этого достаточно навести курсор мыши на серую линейку шкалы и покрутить коолесо мыши. Вот так.

Навигация по шкале кадров

Давайте возьмём нашего персонажа, которого мы собрали в предыдущем уроке и попробуем сделать очень простую анимацию (показать анимацию). Вот, персонаж сначала поднимает одну руку. Потом другую.

Ключевые кадры

Анимация мимики

Скелет

Анимация скелета

Компоновка сцены

Интерполяция

Автоматическая анимация

Но это не очень просто сделать, потому что я не вижу других голов. Поэтому я включу специальный режим — режим кальки (Onionskin). В этом режиме мы можем видеть картинку с предыдущего ключевого кадра. И теперь нам будет легко подогнать это изображение. Главное, прежде чем начать подгонять, нужно не забыть выключить режим анимации, а то у нас всякие чудеса начнутся. Вот так.

Ага, видите? Голова нашего персонажа дёргается в сторону, потому что картинка не совпадает с другими головами. Давайте её подгоним.

Теперь давайте её где-нибудь включим, например вот здесь.

Обратите внимание, что при вставке или создании нового слоя он всегда появляется поверх выделенного.

Новые слои всегда создаются поверх выбранного

Выбираем файл «head-extra» и импортируем. Вырезаем и вставляем в группу-переключатель.

В этом примере у нас все изображения голов одинакового размера и поэтому с ними очень удобно работать. Но давайте предположим, что мы захотели добавить ещё одну голову и она у нас немного нестандартного размера.
