Длина анимации

Создаём новый файл…

Если мы вставим фон в анимацию с персонажем, то нам очень будут мешать эти ключевые кадры. Поэтому мы поступим по-другому. Вместо этого мы создадим новый файл и вставим туда нашего персонажа. Сейчас я покажу как.

Давайте откроем папку с примерами, вот тут есть папка «bg» и внутри неё изображение с фоном.

Для полного счастья нам теперь не хватает какого-нибудь фона, чтобы персонаж по нему ходил.

Вот такая анимация у нас получилась.

Теперь то же самое делаем для других фиксаторов.

Очевидно, что нам нужно поправить анимацию для параметра «Масштаб» (Scale). Но в данном случае нужно изменить интерполяцию только с одной стороны. Щёлкаем правой кнопкой, выбираем «До» (In) - «Постоянная» (Constant).

Так, смотрим… Получается, что он у нас начинает сплющиваться до того как коснулся земли. А нам нужно, чтобы это происходило резко здесь и потом плавно, вот на этом промежутке он возвращался в прежнюю форму.

А сейчас давайте немного оживим нашу анимацию, добавив мячу упругости. Пускай в момент касания земли мяч немного расплющивается.

Мы могли бы немного по-другому сделать эту же самую анимацию (с интерполяцией замедления, или используя движение по траектории), но давайте оставим это на будущее.

Можно было бы поставить “Плавный вход/выход”, но в этом случае движение будет замедляться не только по оси Y но и по оси X, а это нам не нужно.

Не хватает замедления, когда мяч достигает верхней точки. Для этого давайте по аналогии расставим на соответствующих ключевых кадрах тип интерполяции TCB.

Выполним эту операцию для остальных фиксаторов, где мяч касается земли. Посмотрим что получилось в итоге.

Давайте поменяем тип интерполяции у фиксаторов там где наш мяч касается земли. Щелкаем правой кнопкой, выбираем “Оба” (Both) (можно еще менять интерполяцию на входе и выходе, но в данном примере нам это не нужно). Далее выбираем “Линейная” (Linear). Фиксатор поменял свою форму и цвет, и соответственно изменилась траектория.

Нам необходимо чтобы в нижней части этот график стал острым, для этого нам, очевидно, подойдет линейная интерполяция.

Возможно, вам потребуется покрутить колесо мыши чтобы увидеть весь график.

Сейчас здесь ничего не отображается, но если мы выделим нужный параметр — “Смещение” (Offset) (мы его изменяли в режиме анимации), то увидим графики изменений по оси x — вот, и по оси — y.

Чтобы нам лучше было видно как сейчас движется наш мяч, перейдем на вкладку “графики”.

Панель Графиков

По-умолчанию синфиг создаёт фиксаторы с тем типом интерполяции, который указан вот здесь. Но мы можем изменить тип интерполяции для любого фиксатора.

Наконец, тип интерполяции “Константа” (Constant) не дает никакой интерполяции (простите за тавтологию). Она резко переключает от одной позиции к другой.

“Замедлить / ускорить”, позволяет замедлить движение в точке где находится ключевая поза. Смотрите объект каждый раз замедляется, когда подходит к точке и ускоряется, когда отходит от неё. Вот здесь, в конце, смотрите, движение перестало быть равномерным.

Тип интерполяции “Линейная” (Linear) дает перемещение строго по прямой. Здесь никаких хитростей.

Эти типы интерполяции лучше применять при анимации живых существ, поскольку движение получается более органичным.

Давайте сравним ещё раз. Вот «Clamped». А вот «TCB».

«TCB» работает так же, но сглаживает еще больше движение. Обратите внимание вот в этом месте, несмотря на то что ключевые позиции объекта находятся на одной линии, при метода «TCB» происходит как бы захлёст, как будто объект движется по инерции. Этот захлёст определяется его движением на предыдущем интевален. Этот эффект бывает очень полезен.

Вот у нас четыре позиции для объекта. Как я уже говорил, метод интерполяции «Clamped» сглаживает траекторию движения.

Итак, в Synfig Studio есть методы «Clamped», «TCB», «Константа» (Constant), «Замедлить / ускорить» (Ease In/Out) и «Линейная» (Linear). Давайте посмотрим чем же они отличаются.

Текущий метод интерполяции указан вот здесь. И здесь же можно посмотреть другие доступные методы.

Дело в том, что в синфиге, по-умолчанию используется интерполяция методом “Clamped”, которая сглаживает траекторию движения.

Посмотрите внимательно — у нас получилось, что мяч не отскакивает от земли, а как бы гладит ее. Почему это происходит?

Открываем диалог предпросмотра, и смотрим что получилось.

Передвинем курсор на шестой кадр и добавляем ключевой кадр. Здесь перемещаем мяч вниз, снова перемещаем курсор, добавляем кадр, передвигаем мяч, и так далее.

Итак, давайте переместим схему в самый низ, поставим мяч в начальное положение и включаем режим анимации.

В процессе анимирования мяча на каждой позиции, обозначенной желтыми и красными точками, будем ставить ключевые кадры.

На данном изображении мы видим траекторию движения мяча. Желтыми и красными точками обозначены ключевые позиции. Желтые показывают, что мяч находится в воздухе, а красные, показывают, что мяч касается земли. Цифры на этих точках, соответствуют кадру на шкале времени.

Чтобы понять как будет перемещаться мяч, давайте вставим файл “scheme.png”.

Теперь, из папки workshop вставим файл «ball.png», масштабируем. Итак, у нас есть два слоя — прямоугольник и изображение.

Далее наведем курсор на рабочую область и, удерживая левую кнопку мыши нажатой, растянем прямоугольник до нужного размера.

Выберем цвет заливки, активируем инструмент “прямоугольник”, в параметрах убедимся что вот эта кнопка нажата, а все остальные выключены.

Для начала, давайте создадим поверхность, по которой будет прыгать наш мяч.

Сейчас мы выполним упражнение, традиционное для любого курса анимации - “Скачущий мяч”.

На этом наш курс завершён. Надеюсь, что он был для вас интересным и полезным. До новых встреч, друзья!

Конечно, для анимации по кривой гораздо удобнее использовать фиксаторы и ключевые кадры, но в данном случае но я надеюсь что этот пример помог вам глубже понять механизм работы конвертеров.

И этот ключевой кадр можно удалить, он не нужен.

Давайте отсоединим у него анимацию и вместо неё добавим конвертер «Линейная» (Linear). Скорость поставим «0,1». Готово! Теперь у нас вся анимация сделана без единого фиксатора.

Когда мы двигали пчелу вдоль кривой, то у этого конвертера изменялся параметр «Величина» (Amount). Он указывает положение объекта на кривой.

Давайте посмотри, вот у нас параметр «Смещение» (Offset). Когда мы привязали пчелу к кривой, этому параметру был назначен специальный конвертер. Посмотрим на его параметры.

Кстати, раз уж мы снова заговорили про линейный конвертер, давайте сделаем последнюю модификацию для нашей анимации пчелы. В этой анимации я использовал всего два фиксатора. Но на самом деле её можно было сделать вообще без фиксаторов!

Здесь мы могли бы сделать панораму обычным способом, с помощью ключевых кадров и фиксаторов. Но в этом случае, нам бы начали мешать вот эти ключевые кадры, которые отвечают за анимацию персонажа. Если бы я их начал двигать, то это повлияло на движение камеры. Сейчас же анимация панорамы никак не связана с ключевыми кадрами и мы можем спокойно работать с нашей анимацией как ни в чём не бывало.

Чтобы сделать панораму, мы просто добавляем слой перемещения, преобразуем его параметр в Composite и назначаем конвертер «Линейная» (Linear) для оси икс. Поставим скорость «-0,2». Вот что у нас получилось.

Давайте откроем файл персонажа из предыдущего урока. Добавим фон…

Создание панорамы

Такие слои фильтры бывают очень полезны, если нам нужно сделать панораму или наезд камерой.

Вы спросите, в чём преимущество использования слоя-фильтра, когда мы могли просто использовать группу. Ну, в данном случае, наверное, ни в чём. Но вообще, преимущество этого подхода в том, что мы в любой момент можем легко отключить эффект перемещения. Смотрите, я просто выключаю слой и у меня пчела снова движется точно по кривой. А если бы мы использовали группу, то нам пришлось бы вытаскивать все слои из группы, а это не очень удобно.

Вот, как видите у нас пчела теперь отклоняется от траектории движения и её анимация выглядит более сложной.

Теперь я к нему привяжу конвертор «Случайно» (Random). Поставим радиус «15»… Смотрим.

Видите, он работает очень просто и у него всего один параметр.

Вы наверное помните, что в предыдущих уроках я рассказывал про слои-фильтры. Так вот, мы воспользуемся одним очень простым слоем, который просто задаёт смещение всего, что находится под ним. Вот он.

Можно создать внутри пчелы ещё одну группу и привязать к её смещению случайны конвертер. Но на этот раз я сделаю немного по-другому.

Давайте так и сделаем!

Давайте теперь сделаем ещё одно дополнение. Было бы здорово, если наша пчела двигалась не строго по этой линии, а немного отклонялась от неё. Тогда её движение будет более реалистичным.
