Давайте сделаем так, что после 40 кадра персонаж помашет нам рукой. Но при этом я не буду ставить ключевой кадр для каждого движения. У меня будет один в начале… и один в конце.

И, напоследок я покажу ещё один мощный трюк, который мы можем делать с помощью ключевых кадров.

И ещё один важный момент: когда мы удаляем ключевой кадр, то вместе с ним будут удалены все фиксаторы, которые ему принадлежат. Вот, смотрите.

Следует отметить, что когда мы что-то делаем с ключевыми кадрами, совсем не обязательно быть в режиме анимации.

С помощью ключевых кадров мы можем также копировать состояние объектов с одного момента времени на другой. Например, давайте сделаем так, чтобы на 40 кадре персонаж вернулся в ту же позу, в какой он был на нулевом кадре. Идём на 40 кадр, теперь щёлкаем правой кнопкой на вот этом ключевом кадре и выбираем «Дублировать». Смотрите, синфиг автоматически расставил все нужные фиксаторы, и персонаж у нас теперь в исходной позе.

Часто бывает нужно вместе с текущим кадром передвинуть все последующие. Это сделать очень легко. Просто зажмите Alt Shift и передвиньте кадр на другое место. (Передвигаем второй ключ. кадр на 15 кадр). Вот так.

В данном случае у нас анимировано два объекта — первая рука и вторая рука. Если мы перемещаем ключевой кадр, то вместе с ним автоматически перемещаются все фиксаторы, которые ему принадлежат. Нам даже не нужно выделять какой-то конкретный объект. Вот, видите — у нас фиксаторы автоматически переместились для всех слоёв.

Создадим еще два ключевых кадра. Перейдем на второй ключевой кадр, активируем режим анимации и переместим шар вверх. Видите - появились три фиксатора. Тот который в середине появился от того, что мы изменили положение мяча в режиме анимации. А два крайних появились для того, чтобы сохранить ИСХОДНОЕ положение мяча в соответствующие моменты времени. Вот, мы видим что положение сохранилось. Поэтому у нас получилось шар поднимается вверх, а потом возвращается обратно.

Готово. Теперь перейдем еще на десять кадров вперед… создадим ключевой кадр… повернём вторую руку. Обратите внимание, что синфиг поставил дополнительный фиксатор, чтобы на предыдущем ключевом кадре сохранить состояние объекта. Теперь у нас анимация сразу получилась как надо — без всяких подтасовок.

Создаем новый ключевой кадр. Щёлкаем правой кнопкой мыши… Появляется вот такой маркер. Поворачиваем левую руку персонажа.

Кстати, мы можем использовать очень полезную комбинацию - удерживайте CTRL и вот эту клавишу «точка» на английской раскладке клавиатуры.

Убедимся, что режим анимации включён и идем на 10-й кадр.

Персонаж у нас стоит в исходной позе. Здесь всё в порядке.

Ключевые кадры находятся вот на этой синей полоске, вот здесь. В синфиг студио первый ключевой кадр создается автоматически, вот он.

Итак, анимация удалена, можно начинать.

Попробуем сделать наше упражнение сначала. Для этого удалим анимацию у первой руки и у второй. Можно удалить все фиксаторы по одному — мы уже знаем как это делается. А можно удалить сразу всю анимацию у параметра — для этого нужно щёлкнуть правой кнопкой мыши на нём и выбрать «Отсоединить». Это очень полезный приём, если фиксаторов много.

В синфиге это достигается при помощи ключевых кадров. Бывает, что ключевые кадры путают с фиксаторами, но это не одно и то же. Фиксаторы запоминают значение одного параметра в определённый момент времени. А ключевой кадр тоже привязан к определённому моменту времени, но заставляет программу запомнить состояние сразу всех параметров у всех слоёв. Когда вы делаете анимацию программа автоматически расставляет фиксаторы на ключевых кадрах чтобы сохранить слои неизменными.

В данном случае нам легко удалось всё исправить, потому что у нас очень простая сцена и персонаж состоит всего из нескольких слоёв. Но часто нам приходится работать с более сложными персонажами, состоящими из десятков слоёв, и таких персонажей может быть несколько в одной сцене. И у каждого слоя могут быть десятки параметров, за которыми нам придётся следить. Очевидно, что нам нужен механизм, который позволил бы контролировать анимацию на более высоком уровне.

Теперь, давайте включим режим анимации. На шкале кадров установим время, за которое наш герой поднимет левую руку. Вот, 10 кадров. И повернём руку. После этого должна начать двигаться другая рука. Передвигаем курсор времени ещё на 10 кадров. И теперь поворачиваем вторую руку.

Предположим, персонаж у нас одну руку поднимет за 10 кадров и другую тоже за десять кадров. Чтобы нам было удобнее давайте увеличим масштаб шкалы кадров. Для этого достаточно навести курсор на серую линейку шкалы и покрутить колесо мыши. Вот так.

Выглядит просто? Давайте попробуем.

В данном случае у нас анимировано два объекта — первая рука и вторая рука. Если мы перемещаем ключевой кадр, то вместе с ним автоматически перемещаются все фиксаторы, которые находятся в данный момент времени. Нам даже не нужно выделять какой-то конкретный объект.

Создадим еще два ключевых кадра. Перейдем на второй ключевой кадр, активируем режим анимации и переместим шар вверх. Видите - появились три фиксатора. Тот который в середине появился от того, что мы изменили положение мяча в режиме анимации. А два крайних появились чтобы сохранить ИСХОДНОЕ положение мяча в соответствующие моменты времени. Поэтому у нас получилось шар поднимается вверх, а потом возвращается обратно.

Теперь создаем новый ключевой кадр. Щёлкаем правой кнопкой мыши… Появляется вот такой маркер. Поворачиваем левую руку персонажа.

Кстати, мы можем использовать очень полезную комбинацию - удерживайте CTRL и клавишу «точка» на английской раскладке клавиатуры.

Выделяем слой головы… и выравниваем. Готово. Теперь всё как надо.

Но это не так просто сделать, потому что я не вижу других голов. Поэтому я включу специальный режим — режим кальки (Onionskin). В этом режиме мы можем видеть картинку с предыдущего ключевого кадра. И теперь нам будет легко подогнать это изображение. Главное, не забыть выключить режим анимации, а то у нас всякие чудеса начнутся.

Ага, видите? Голова нашего персонажа дёргается в сторону, потому что эта картинка не совпадает с другими. Очевидно, что её нужно выровнять.

Я не буду пытаться подгонять форму рта под звуки, а буду выбирать последовательность голов в произвольном порядке. Этого будет достаточно чтобы получить нужный эффект.

Вот так.

Итак, у нас есть две фразы. Давайте обозначим ключевыми кадрами начало и конец для каждой из них.

Теперь можно приступать к анимации. Но сначала давайте импортируем аудио файл - это будет голос нашего персонажа. Выбираем “Файл” > “Импортировать” и в папке «mimic» выбираем “sound.wav”.

Обратите внимание, что слои всегда вставляются поверх текущего выделенного.

Давайте перенесём эту группу к остальным частям. Вырезаем… выделяем этот слой… и вставляем.

Теперь сгруппируем эти головы вместе. Но я буду использовать не обычную группу, а специальную группу-переключатель. Вот так.

Нам нужно импортировать все изображения голов. Выбираем вот эти файлы — с номерами от одного до пяти. Шестой пока трогать не будем. И переносим на рабочую область.

В папке «mimic» у меня есть несколько подготовленных голов. Когда я переключаю их с определенной частотой, то создается иллюзия, что персонаж говорит. Именно так мы и будем делать.

Итак, наш персонаж теперь может двигаться, осталось научить его говорить.

Ну, на этом всё. В следующем уроке мы попробуем санимировать скелет.

Если бы группа не была трансформирована, то всё было бы в порядке — она бы нам не мешала.

Теперь пробуем изменить позу. Как видите, с головой и туловищем всё в порядке, а вот с руками происходит что-то невообразимое. Это всё из-за трансформированной группы.

Давайте сохраним и закроем этот файл и я вам покажу пример по этому поводу.

Если мы будем создавать скелет за пределами группы, то координаты костей не будут совпадать с координатами объектов. Когда вы будете привязывать вы ничего не заметите, но вот когда попробуете изменить положение костей — вот тут и начнутся чудеса.

Чтобы привязать туловище, нам нужно выделить его слой и сам скелет. Щёлкаем на туловище, потом удерживая CTRL щёлкаем на слой скелета (в списке слоёв). Теперь щелчком левой кнопкой мыши выделяем зелёную точку у группы. Так мы указываем программе что именно хотим привязать. А теперь укажем куда привязывать - правой кнопкой нажимаем на кость и выбираем «Привязать к кости» (Link to bone). Ну вот все работает, туловище привязано.

Итак, давайте установим первую кость. Она будет отвечать за положение всего персонажа.

А теперь добавим слой скелета. Этот слой должен находиться внутри группы, поверх всех частей персонажа, поэтому, здесь выделяем первый слой, щёлкаем по нему правой кнопкой мыши, выбираем «Создать слой» (New Layer) - «Прочие» (Other) - «Скелет» (Skeleton).

Ну и не забывайте почаще сохраняться!

Готово, можно собирать. Чтобы нам было удобнее, давайте сделаем картинку с целым персонажем полупрозрачной. Для этого отредактируем параметр «Величина» (Amount) который отвечает за прозрачность слоя. Поставим значение 0,5.

Готово. Сгруппируем всё вместе и уменьшим, чтобы персонаж поместился на рабочей области.

С помощью костей вы можете создать вот такой скелет и легко управлять всеми частями персонажа. Очень просто.

Но его главная проблема в том, что управлять таким персонажем не очень удобно - каждый раз приходится сначала выделять нужную часть и уже только после этого двигать, кроме того нужно постоянно придумывать как правильно группировать объекты. Если у нас более сложный персонаж, то нам придётся создавать много групп и постоянно переключаться между ними во время анимации.

Итак, в предыдущих уроках мы рассмотрели один простой способ сделать анимацию персонажа.

Чтобы нам было удобнее, давайте сделаем картинку с целым персонажем полупрозрачной. Для этого отредактируем параметр «Величина» (Amount) который отвечает за прозрачность слоя. Поставим значение 0,5.

Циклическая анимация

Ну вот, готово.

Так, возможно, нам нужно пройтись по всем ключевым кадрам и подправить положение главной кости, чтобы передняя нога у нас не проскальзывала.

Отмечаем позицию передней ноги. Теперь добавляем крайнюю позу, когда наш персонаж уже сделал второй шаг. Эта поза, кстати, будет совпадать с самой первой. Просто скопируем ключевой кадр и передвинем персонажа сюда.

Я специально щёлкаю на одной из точек нужной мне кости. В результате точка подсвечивается и таким образом я могу отличить нужную мне кость от всех остальных.

Создадим промежуточный ключевой кадр и поправим позу как надо. Так, эта нога передняя, значит она останется на земле. А эту согнём.

Теперь нужно поменять позицию ног персонажа и передвинуть его вперёд. Но сначала мне нужно отметить позицию его передней ноги. Я просто создам маленькую окружность вот здесь. Теперь меняем ноги местами… и двигаем его вперёд. Вот так, чтобы эта нога оставалась на месте. И не забудем поменять местами руки.

Добавляем слой «Петля времени». Устанавливаем параметр «Длительность» (Duration) равным 31. Как мы помним, 32-й кадр нам не нужен. Ну вот, готово. Теперь у нас есть бесконечный цикл шагающего персонажа.

Выключаем режим анимации.

Давайте вернёмся к нашему файлу.

Сейчас нас сейчас интересует слой «Петля времени» (Time Loop). Этот слой берёт фрагмент анимации, который находится под ним и бесконечно повторяет его.

В меню «Создать слой» можно найти много слоёв-фильтров, которые, например, искажают то, что находится под ними, или добавляют занятные эффекты.

Принцип работы слоев-фильтров заключается в том, что они действуют только на слои, расположенные под ними. Давайте опустим слой размывания ниже. Вот, видите — теперь размылась только красная окружность.

Выберем «Размывание» (Blur). В результате у нас все размылось. Вы можете поиграть с величиной размывания в “параметрах слоя” или на рабочей области, потянув за эту точку.

Мы привыкли к тому, что слои обычно что-то рисуют на рабочей области — окружность, прямоугольник, картинку или что-то ещё. Но в синфиге есть особенные слои, которые ничего не рисуют, а вместо этого изменяют те объекты, которые находятся под ними. Такие слои называют «слоями-фильтрами» (filter layers).

И вот этот фиксатор тоже нужно удалить.

Так, из-за ключевых кадров у нас поставился фиксатор вот здесь. А нам нужно, чтобы перемещение происходило от нуля до 32-го кадра. Исправляем.

Опс, окружность у нас тоже в группе… Надо сделать метку за её пределами. И двигаем.

Давайте начнём!

Следует помнить, что фиксаторы создаются только в режиме анимации. Если режим не будет включён, то наши изменения будут иметь место сразу на всём промежутке времени. Давайте проверим это.

